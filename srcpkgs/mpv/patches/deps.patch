--- mpv-0.39.0/meson.build	2024-09-23 17:36:41.000000000 +0000
+++ mpv-0.39.0/meson2.build	2025-01-10 08:38:10.358156577 +0000
@@ -698,7 +698,10 @@
 lua = dependency('', required: false)
 lua_opt = get_option('lua')
 if lua_opt != 'disabled'
-    lua_version = [['lua', ['>=5.1.0', '<5.3.0']], # generic lua.pc
+    lua_version = [['lua', ['>=5.1.0', '<5.5.0']], # generic lua.pc
+                   ['lua54', '>= 5.4.0'],
+                   ['lua5.4', '>= 5.4.0'],
+                   ['lua-5.4', '>= 5.4.0'],
                    ['lua52', '>= 5.2.0'],
                    ['lua5.2', '>= 5.2.0'],
                    ['lua-5.2', '>= 5.2.0'],
--- mpv-0.39.0/meson_options.txt	2024-09-23 17:36:41.000000000 +0000
+++ mpv-0.39.0/meson_options2.txt	2025-01-10 08:25:25.681116970 +0000
@@ -23,13 +23,13 @@
 option('libbluray', type: 'feature', value: 'auto', description: 'Bluray support')
 option('lua',
     type: 'combo',
-    choices: ['lua', 'lua52', 'lua5.2', 'lua-5.2', 'luajit', 'lua51',
+    choices: ['lua', 'lua54', 'lua5.4', 'lua-5.4', 'lua52', 'lua5.2', 'lua-5.2', 'luajit', 'lua51',
               'lua5.1', 'lua-5.1', 'auto', 'enabled', 'disabled'],
     value: 'auto',
     description: 'Lua'
 )
 option('pthread-debug', type: 'feature', value: 'disabled', description: 'pthread runtime debugging wrappers')
-option('rubberband', type: 'feature', value: 'auto', description: 'librubberband support')
+option('rubberband', type: 'feature', value: 'disabled', description: 'librubberband support')
 option('sdl2', type: 'feature', value: 'disabled', description: 'SDL2')
 option('sdl2-gamepad', type: 'feature', value: 'auto', description: 'SDL2 gamepad input')
 option('uchardet', type: 'feature', value: 'auto', description: 'uchardet support')
